#include<stdio.h>
#include<stdlib.h>

/*Componentes da Equipe:
copyright © 2022 todos os direitos reservados,
- Eduardo de Andrade Bomfim Jr
- Mari Alessandra Santana de Sousa
- Felipe Soares Lisboa de Melo
- Eider Souza Costa dos Santos
- Bianca Hellen Oliveira Silva
- Everton Jesus dos Santos
*/

//Função main
int main(){
	
	//Variaveis
    float valor_cobrado, valor_pago, valor_correto, valor_a_devolver, valor_a_pagar;
    int opcao, opcao2;
    int codigo_veiculo;
    int hrE, minE, segE, hrS, minS, segS, hrF, minF, segF;

//Laço de repetição do menu inicial	
do{
	
	//Menu
    printf("------------Seja Bem Vindo ao Sistema de Estacionamento------------\n\n");
    printf("********************************MENU********************************\n\n");
    printf("Selecione a opcao desejada:\n");
    printf("1 - Registrar Movimento\n");
    printf("2 - Exibir Relatorio\n");
    printf("3 - Creditos\n");
    printf("4 - Encerrar\n");
    printf("-------------------------------------------------------------------\n");
    printf("R: ");
    scanf("%i", &opcao);

	//Condição 1 para registrar movimento no estacionamento
    switch (opcao){
      case 1:

        printf("Selecione o Tipo de Veiculo:\n");
        printf("1 - Moto\n");
        printf("2 - Carro Pequeno\n");
        printf("3 - Carro Grande\n");
        printf("-------------------------------------------------------------------\n");
        printf("R: ");
        scanf("%i", &opcao2);
    // Tipo de Veiculo: MOTO    
        switch(opcao2){
            case 1:
            printf("Tipo de Veiculo Selecionado: Moto\n");
            printf("-------------------------------------------------------------------\n");
            printf("Digite o Codigo do Veiculo:\n");
            printf("R: ");
            scanf("%i", &codigo_veiculo);

            do{
            printf("Digite o Horario de Entrada:(HORAS:MINUTOS:SEGUNDOS)\n");
	        scanf("%i:%i:%i", &hrE, &minE, &segE);
	        }while(hrE<0 || hrE>23 || minE<0 || minE>59 || segE<0 || segE>59);

            do{
	        printf("Digite o Horario de Saida:(HORAS:MINUTOS:SEGUNDOS)\n");
	        scanf("%i:%i:%i", &hrS, &minS, &segS);
	        }while(hrS<0 || hrS>23 || minS<0 || minS>59 || segS<0 || segS>59);

	        hrF = hrS - hrE;
            minF = minS - minE;
            segF = segS - segE;

            if(segF < 0){
            minF = minF - 1;
            segF = segF + 60;
            }
            if(minF < 0){
            hrF = hrF - 1;
            minF = minF + 60;
            }
	        printf("O veiculo ficou no estacionamento por: %i:%i:%i\n", hrF, minF, segF);
            
    // Calculo do Valor a ser Pago por Hora
            if(hrF==0 && minF<=30){
                printf("O Veiculo passou menos que trinta minutos, Valor a Pagar: $0,0\n");
            }else{
            valor_cobrado = 4 + (hrF * 2.50);
            printf("O Valor a Pagar eh: %.2f\n", valor_cobrado);
            printf("Digite o Valor Pago:\n");
            scanf("%f", &valor_pago);
                 
            if(valor_pago==valor_cobrado){

                valor_pago=valor_cobrado;
            }else{
                if(valor_pago>valor_cobrado){
                valor_a_devolver = valor_pago - valor_cobrado;
                printf("O Valor a Devolver: %.2f\n", valor_a_devolver);
            }
                else{
                    valor_a_pagar = valor_cobrado - valor_pago;
                    printf("O Valor a Pagar: %.2f\n", valor_a_pagar);
                }
            }
            }
            break;

    // Tipo de Veiculo: Carro Pequeno
            case 2:
            printf("Tipo de Veiculo Selecionado: Carro Pequeno\n");
            printf("-------------------------------------------------------------------\n");

            break;
    // Tipo de Veiculo: Carro Grande
            case 3:
            printf("Tipo de Veiculo Selecionado: Carro Grande\n");
            printf("-------------------------------------------------------------------\n");

            break;
        }
    
        break;
    // Condição 2 para Exibir Relatório
      case 2:


    
        break;
    //Condição 3 para Exibir os Creditos 
      case 3:
        printf("copyright © 2022 todos os direitos reservados,\n- Eduardo de Andrade Bomfim Jr\n- Mari Alessandra Santana de Sousa\n- Felipe Soares Lisboa de Melo\n- Eider Souza Costa dos Santos\n- Bianca Hellen Oliveira Silva\n- Everton Jesus dos Santos\n\n");
        system("Pause");
        break;
    }
}
	//Finaliza o código
    while(opcao!=4);
    
return 0;
}
